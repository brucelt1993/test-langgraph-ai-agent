# AI Agent 环境变量配置模板
# 复制此文件并重命名为 .env，然后根据你的环境配置相应的值

# ================================
# 数据库配置
# ================================
# PostgreSQL数据库名称
POSTGRES_DB=ai_agent

# PostgreSQL用户名
POSTGRES_USER=postgres

# PostgreSQL密码 - 请设置一个强密码！
POSTGRES_PASSWORD=your_very_secure_database_password_here

# 数据库连接URL（通常自动生成，无需手动设置）
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5432/${POSTGRES_DB}

# ================================
# Redis缓存配置
# ================================
# Redis密码 - 请设置一个强密码！
REDIS_PASSWORD=your_secure_redis_password_here

# Redis连接URL（通常自动生成，无需手动设置）
# REDIS_URL=redis://:${REDIS_PASSWORD}@localhost:6379/0

# ================================
# 应用安全配置
# ================================
# JWT密钥 - 必须是一个长且随机的字符串！
SECRET_KEY=your_very_long_and_secure_secret_key_at_least_32_characters_long

# 环境模式 (development, testing, production)
ENVIRONMENT=production

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 允许的主机列表（用逗号分隔）
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# CORS允许的源（用逗号分隔）
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# ================================
# AI服务配置
# ================================
# OpenAI API密钥 - 从 https://platform.openai.com/api-keys 获取
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI API基础URL（通常不需要更改）
OPENAI_BASE_URL=https://api.openai.com/v1

# 默认使用的OpenAI模型
OPENAI_MODEL=gpt-4

# OpenAI请求超时时间（秒）
OPENAI_TIMEOUT=60

# OpenAI最大重试次数
OPENAI_MAX_RETRIES=3

# ================================
# 外部API配置
# ================================
# 天气API密钥 - 从 https://openweathermap.org/api 获取
WEATHER_API_KEY=your_weather_api_key_here

# 天气API基础URL
WEATHER_API_URL=http://api.openweathermap.org/data/2.5

# ================================
# 应用配置
# ================================
# 前端基础URL
FRONTEND_URL=http://localhost:3000

# API基础URL
API_BASE_URL=http://localhost:8000/api

# WebSocket基础URL
WS_BASE_URL=ws://localhost:8000/api/ws

# 会话超时时间（分钟）
SESSION_TIMEOUT=30

# 最大会话历史轮数
MAX_CONVERSATION_ROUNDS=10

# ================================
# 服务端口配置
# ================================
# HTTP端口
HTTP_PORT=80

# HTTPS端口
HTTPS_PORT=443

# 后端API端口
BACKEND_PORT=8000

# 前端服务端口
FRONTEND_PORT=3000

# ================================
# 性能配置
# ================================
# 后端Worker进程数（推荐设置为CPU核心数）
MAX_WORKERS=4

# Worker超时时间（秒）
WORKER_TIMEOUT=120

# 数据库连接池大小
DB_POOL_SIZE=20

# 数据库连接池最大溢出数量
DB_MAX_OVERFLOW=10

# Redis连接池大小
REDIS_POOL_SIZE=10

# ================================
# 监控和日志配置
# ================================
# Grafana管理员密码
GRAFANA_PASSWORD=your_secure_grafana_password

# 启用应用性能监控
ENABLE_APM=true

# 启用详细日志记录
ENABLE_DEBUG_LOGGING=false

# 日志文件路径
LOG_FILE_PATH=./logs/app.log

# 日志文件最大大小（MB）
LOG_MAX_FILE_SIZE=100

# 保留的日志文件数量
LOG_BACKUP_COUNT=5

# ================================
# 安全配置
# ================================
# 启用HTTPS重定向
FORCE_HTTPS=false

# SSL证书文件路径（如果使用HTTPS）
SSL_CERT_PATH=/etc/ssl/certs/aiagent/cert.pem
SSL_KEY_PATH=/etc/ssl/certs/aiagent/key.pem

# 启用CSRF保护
ENABLE_CSRF_PROTECTION=true

# 启用速率限制
ENABLE_RATE_LIMITING=true

# API调用速率限制（每分钟请求数）
API_RATE_LIMIT=100

# ================================
# 邮件配置（可选）
# ================================
# SMTP服务器配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_USE_TLS=true

# 发件人邮箱
FROM_EMAIL=noreply@yourdomain.com

# ================================
# 文件存储配置
# ================================
# 文件上传最大大小（MB）
MAX_UPLOAD_SIZE=10

# 文件存储路径
UPLOAD_PATH=./uploads

# 允许的文件类型（用逗号分隔）
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,txt,docx

# ================================
# 缓存配置
# ================================
# 缓存过期时间（秒）
CACHE_TTL=3600

# 启用响应缓存
ENABLE_RESPONSE_CACHE=true

# 会话数据缓存时间（秒）
SESSION_CACHE_TTL=1800

# ================================
# 开发和测试配置
# ================================
# 启用开发模式特性
DEBUG_MODE=false

# 启用API文档（生产环境建议关闭）
ENABLE_DOCS=true

# 启用测试端点（生产环境必须关闭）
ENABLE_TEST_ENDPOINTS=false

# 数据库自动同步（开发环境可用，生产环境禁用）
AUTO_SYNC_DB=false

# ================================
# 备份配置
# ================================
# 自动备份间隔（小时）
BACKUP_INTERVAL=24

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# 备份存储路径
BACKUP_PATH=./backups

# ================================
# 第三方集成配置
# ================================
# Google Analytics ID（可选）
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID

# Sentry错误追踪DSN（可选）
SENTRY_DSN=https://your-sentry-dsn-here

# 启用错误追踪
ENABLE_ERROR_TRACKING=true

# ================================
# 高级配置
# ================================
# 启用数据库查询日志
ENABLE_DB_QUERY_LOG=false

# 启用慢查询日志（毫秒）
SLOW_QUERY_THRESHOLD=1000

# 启用API请求日志
ENABLE_REQUEST_LOG=true

# JWT Token过期时间（分钟）
JWT_EXPIRY_MINUTES=60

# 刷新Token过期时间（天）
REFRESH_TOKEN_EXPIRY_DAYS=30

# 启用多因子认证
ENABLE_MFA=false

# ================================
# 说明
# ================================
# 1. 所有带有 "your_" 前缀的值都需要替换为实际的值
# 2. 密码和密钥应该使用强随机字符串
# 3. 生产环境中，敏感信息不应该存储在代码库中
# 4. 可以使用密码管理器或环境变量管理服务
# 5. 定期轮换API密钥和密码以确保安全性

# ================================
# 快速配置示例
# ================================
# 复制以下命令快速生成安全的密钥：
# 
# # 生成SECRET_KEY:
# python -c "import secrets; print('SECRET_KEY=' + secrets.token_urlsafe(32))"
# 
# # 生成密码:
# openssl rand -base64 32
#
# # 生成UUID:
# python -c "import uuid; print(uuid.uuid4())"